KISSY.add("switchable/base",function(i,p,n,e){var f="display",b="block",l="none",q=n.Target,c="forward",h="backward",j=".",m="init",d="beforeSwitch",k="switch",g="ks-switchable-";function o(r,t){var s=this;t=t||{};if(!("markupType" in t)){if(t.panelCls){t.markupType=1}else{if(t.panels){t.markupType=2}}}var u=this.constructor;while(u){t=i.merge(u.Config,t);u=u.superclass?u.superclass.constructor:null}s.container=p.get(r);s.config=t;s.activeIndex=s.completedIndex=t.activeIndex;if(s.activeIndex>-1){}else{if(typeof t.switchTo=="number"){}else{s.completedIndex=s.activeIndex=0}}s._init();s._initPlugins();s.fire(m);if(s.activeIndex>-1){}else{if(typeof t.switchTo=="number"){s.switchTo(t.switchTo)}}}function a(s){var r={};r.type=s.originalEvent.type;r.target=s.originalEvent.target||s.originalEvent.srcElement;return{originalEvent:r}}o.getDomEvent=a;o.Config={markupType:0,navCls:g+"nav",contentCls:g+"content",triggerCls:g+"trigger",panelCls:g+"panel",triggers:[],panels:[],hasTriggers:true,triggerType:"mouse",delay:0.1,activeIndex:-1,activeTriggerCls:"ks-active",steps:1,viewSize:[]};o.Plugins=[];i.augment(o,q,{_initPlugins:function(){var r=this,s=r.constructor;while(s){i.each(s.Plugins,function(t){if(t.init){t.init(r)}});s=s.superclass?s.superclass.constructor:null}},_init:function(){var s=this,r=s.config;s._parseMarkup();if(r.hasTriggers){s._bindTriggers()}},_parseMarkup:function(){var t=this,s=t.container,r=t.config,x,w,v=[],u=[],y;switch(r.markupType){case 0:x=p.get(j+r.navCls,s);if(x){v=p.children(x)}w=p.get(j+r.contentCls,s);u=p.children(w);break;case 1:v=p.query(j+r.triggerCls,s);u=p.query(j+r.panelCls,s);break;case 2:v=r.triggers;u=r.panels;break}y=u.length;t.length=y/r.steps;if(r.hasTriggers&&y>0&&v.length===0){v=t._generateTriggersMarkup(t.length)}t.triggers=i.makeArray(v);t.panels=i.makeArray(u);t.content=w||u[0].parentNode;t.nav=x||r.hasTriggers&&v[0].parentNode},_generateTriggersMarkup:function(s){var u=this,t=u.config,w=p.create("<ul>"),r,v;w.className=t.navCls;for(v=0;v<s;v++){r=p.create("<li>");if(v===u.activeIndex){r.className=t.activeTriggerCls}r.innerHTML=v+1;w.appendChild(r)}u.container.appendChild(w);return p.children(w)},_bindTriggers:function(){var t=this,s=t.config,w=t.triggers,u,v,r=w.length;for(v=0;v<r;v++){(function(x){u=w[x];n.on(u,"click",function(y){t._onFocusTrigger(x,y)});if(s.triggerType==="mouse"){n.on(u,"mouseenter",function(y){t._onMouseEnterTrigger(x,y)});n.on(u,"mouseleave",function(){t._onMouseLeaveTrigger(x)})}})(v)}},_onFocusTrigger:function(s,t){var r=this;if(!r._triggerIsValid(s)){return}this._cancelSwitchTimer();r.switchTo(s,e,a(t))},_onMouseEnterTrigger:function(s,u){var r=this;if(!r._triggerIsValid(s)){return}var t=a(u);r.switchTimer=i.later(function(){r.switchTo(s,e,t)},r.config.delay*1000)},_onMouseLeaveTrigger:function(){this._cancelSwitchTimer()},_triggerIsValid:function(r){return this.activeIndex!==r},_cancelSwitchTimer:function(){var r=this;if(r.switchTimer){r.switchTimer.cancel();r.switchTimer=e}},switchTo:function(s,z,x,B){var C=this,t=C.config,v=C.triggers,u=C.panels,A=C.activeIndex,w=t.steps,y=A*w,r=s*w;if(!C._triggerIsValid(s)){return C}if(C.fire(d,{toIndex:s})===false){return C}if(t.hasTriggers){C._switchTrigger(A>-1?v[A]:null,v[s])}if(z===e){z=s>A?c:h}C._switchView(A>-1?u.slice(y,y+w):null,u.slice(r,r+w),s,z,x,function(){B&&B.call(C,s);C.completedIndex=s});C.activeIndex=s;return C},_switchTrigger:function(t,r){var s=this.config.activeTriggerCls;if(t){p.removeClass(t,s)}p.addClass(r,s)},_switchView:function(v,u,r,t,s,w){if(v){p.css(v,f,l)}p.css(u,f,b);this._fireOnSwitch(r,s);w&&w.call(this)},_fireOnSwitch:function(r,s){this.fire(k,i.mix(s||{},{currentIndex:r}))},prev:function(t){var s=this,r=s.activeIndex;s.switchTo(r>0?r-1:s.length-1,h,t)},next:function(t){var s=this,r=s.activeIndex;s.switchTo(r<s.length-1?r+1:0,c,t)}});return o},{requires:["dom","event"]});KISSY.add("switchable/aria",function(d,g,b,a){a.Plugins.push({name:"aria",init:function(j){if(!j.config.aria){return}var i=j.container;b.on(i,"focusin",h,j);b.on(i,"focusout",c,j)}});function h(){this.stop&&this.stop()}function c(){this.start&&this.start()}var e=["a","input","button","object"];var f="oriTabIndex";return{setTabIndex:function(i,j){i.tabIndex=j;g.query("*",i).each(function(l){var k=l.nodeName.toLowerCase();if(d.inArray(k,e)){if(!g.hasAttr(l,f)){g.attr(l,f,l.tabIndex)}if(j!=-1){l.tabIndex=g.attr(l,f)}else{l.tabIndex=j}}})}}},{requires:["dom","event","./base"]});KISSY.add("switchable/accordion/base",function(c,d,b){function a(e,g){var f=this;if(!(f instanceof a)){return new a(e,g)}a.superclass.constructor.apply(f,arguments)}c.extend(a,b,{_switchTrigger:function(h,e){var g=this,f=g.config;if(f.multiple){d.toggleClass(e,f.activeTriggerCls)}else{a.superclass._switchTrigger.apply(g,arguments)}},_triggerIsValid:function(e){return this.config.multiple||a.superclass._triggerIsValid.call(this,e)},_switchView:function(f,g,h,k,j,l){var m=this,i=m.config,e=g[0];if(i.multiple){d.toggle(e);this._fireOnSwitch(h,j);l&&l.call(this)}else{a.superclass._switchView.apply(m,arguments)}}});a.Plugins=[];a.Config={markupType:1,triggerType:"click",multiple:false};return a},{requires:["dom","../base"]});KISSY.add("switchable/accordion/aria",function(g,y,C,m,a){var A=33;var z=34;var v=35;var r=36;var B=37;var t=38;var j=39;var f=40;var u=9;var i=32;var h=13;g.mix(a.Config,{aria:true});a.Plugins.push({name:"aria",init:function(F){if(!F.config.aria){return}var E=F.container,D=F.activeIndex;y.attr(E,"aria-multiselectable",F.config.multiple?"true":"false");if(F.nav){y.attr(F.nav,"role","tablist")}var I=F.triggers,G=F.panels;var H=0;g.each(G,function(J){if(!J.id){J.id=g.guid("ks-accordion-tab-panel")}});g.each(I,function(J){if(!J.id){J.id=g.guid("ks-accordion-tab")}});g.each(I,function(J){J.setAttribute("role","tab");J.setAttribute("aria-expanded",D==H?"true":"false");J.setAttribute("aria-selected",D==H?"true":"false");J.setAttribute("aria-controls",G[H].id);k(J,D==H?"0":"-1");H++});H=0;g.each(G,function(J){var K=I[H];J.setAttribute("role","tabpanel");J.setAttribute("aria-hidden",D==H?"false":"true");J.setAttribute("aria-labelledby",K.id);H++});F.on("switch",n,F);C.on(E,"keydown",o,F);C.on(E,"keypress",x,F)}});var k=m.setTabIndex;function c(E){var F=this.triggers,D;g.each(F,function(G){if(G==E||y.contains(G,E)){D=G}});return D}function e(F){var E=this.panels,D;g.each(E,function(G){if(G==F||y.contains(G,F)){D=G}});return D}function b(D){var F=this.triggers,E=this.panels;return F[g.indexOf(D,E)]}function p(E){var D=this,F=c.call(D,E);if(!F){F=b.call(D,e.call(D,E))}return F}function x(D){switch(D.keyCode){case A:case z:if(D.ctrlKey&&!D.altKey&&!D.shiftKey){D.halt()}break;case u:if(D.ctrlKey&&!D.altKey){D.halt()}break}}function o(J){var F=J.target,E=this,I,G=E.triggers;var H=!J.ctrlKey&&!J.shiftKey&&!J.altKey;var D=J.ctrlKey&&!J.shiftKey&&!J.altKey;switch(J.keyCode){case h:case i:if((I=c.call(E,F))&&H){w.call(E,I);J.halt()}break;case B:case t:if((I=c.call(E,F))){q.call(E,I);J.halt()}break;case j:case f:if((I=c.call(E,F))){s.call(E,I);J.halt()}break;case z:if(D){J.halt();I=p.call(E,F);s.call(E,I)}break;case A:if(D){J.halt();I=p.call(E,F);q.call(E,I)}break;case r:if(H){I=p.call(E,F);d.call(E,0);J.halt()}break;case v:if(H){I=p.call(E,F);d.call(E,G.length-1);J.halt()}break;case u:if(J.ctrlKey&&!J.altKey){J.halt();I=p.call(E,F);if(J.shiftKey){q.call(E,I)}else{s.call(E,I)}}break}}function l(D,H){var E=this,G=E.triggers,F=G[D];g.each(G,function(I){if(I===F){return}k(I,"-1");y.removeClass(I,"ks-switchable-select");I.setAttribute("aria-selected","false")});if(H){F.focus()}k(F,"0");y.addClass(F,"ks-switchable-select");F.setAttribute("aria-selected","true")}function q(E){var D=this,F=D.triggers,H=g.indexOf(E,F),G=H==0?F.length-1:H-1;l.call(D,G,true)}function d(D){l.call(this,D,true)}function s(E){var D=this,F=D.triggers,H=g.indexOf(E,F),G=(H==F.length-1?0:H+1);l.call(D,G,true)}function w(D){this.switchTo(g.indexOf(D,this.triggers))}function n(J){var G=!!(J.originalEvent.target||J.originalEvent.srcElement),K=this,M=K.config.multiple,L=J.currentIndex,H=K.panels,I=K.triggers,F=I[L],D=H[L];if(!M){g.each(H,function(N){if(N!==D){N.setAttribute("aria-hidden","true")}});g.each(I,function(N){if(N!==F){N.setAttribute("aria-hidden","true")}})}var E=D.getAttribute("aria-hidden");D.setAttribute("aria-hidden",E=="false"?"true":"false");F.setAttribute("aria-expanded",E=="false"?"false":"true");l.call(K,L,G)}},{requires:["dom","event","../aria","./base"]});KISSY.add("switchable/autoplay",function(c,b,a,d){c.mix(a.Config,{autoplay:false,interval:5,pauseOnHover:true});a.Plugins.push({name:"autoplay",init:function(h){var f=h.config,g=f.interval*1000,i;if(!f.autoplay){return}if(f.pauseOnHover){b.on(h.container,"mouseenter",h.stop,h);b.on(h.container,"mouseleave",h.start,h)}function e(){i=c.later(function(){if(h.paused){return}h.switchTo(h.activeIndex<h.length-1?h.activeIndex+1:0,"forward")},g,true)}e();h.stop=function(){if(i){i.cancel();i=d}h.paused=true};h.start=function(){if(i){i.cancel();i=d}h.paused=false;e()}}});return a},{requires:["event","./base"]});KISSY.add("switchable/autorender",function(b,c,d,a){a.autoRender=function(f,e){f="."+(f||"KS_Widget");c.query(f,e).each(function(j){var i=j.getAttribute("data-widget-type"),g;if(i&&("Switchable Tabs Slide Carousel Accordion".indexOf(i)>-1)){try{g=j.getAttribute("data-widget-config");if(g){g=g.replace(/'/g,'"')}new b[i](j,d.parse(g))}catch(h){b.log("Switchable.autoRender: "+h,"warn")}}})}},{requires:["dom","json","switchable/base"]});KISSY.add("switchable/carousel/base",function(c,j,i,k,b){var d="ks-switchable-",e=".",f="prevBtn",a="nextBtn",h={originalEvent:{target:1}};function g(l,n){var m=this;if(!(m instanceof g)){return new g(l,n)}g.superclass.constructor.apply(m,arguments)}g.Config={circular:true,prevBtnCls:d+"prev-btn",nextBtnCls:d+"next-btn",disableBtnCls:d+"disable-btn"};g.Plugins=[];c.extend(g,k,{_init:function(){var m=this;g.superclass._init.call(m);var l=m.config,n=l.disableBtnCls;c.each(["prev","next"],function(p){var o=m[p+"Btn"]=j.get(e+l[p+"BtnCls"],m.container);i.on(o,"mousedown",function(q){q.preventDefault();if(!j.hasClass(o,n)){m[p](h)}})});if(!l.circular){m.on("switch",function(q){var o=q.currentIndex,p=(o===0)?m[f]:(o===m.length-1)?m[a]:b;j.removeClass([m[f],m[a]],n);if(p){j.addClass(p,n)}})}i.on(m.panels,"click",function(){m.fire("itemSelected",{item:this})})}});return g},{requires:["dom","event","../base"]});KISSY.add("switchable/carousel/aria",function(d,v,y,l,u){var x=37;var t=38;var j=39;var c=40;var h=32;var g=13;var k=l.setTabIndex;var r={originalEvent:{target:1}};var n="forward",m="backward";function e(F){var H=this;var G=H.config.steps;var C=F.currentIndex;var I=H.activeIndex;var D=H.panels;var z=D[C*G];var E=H.triggers;var A=E[C];var B=!!(F.originalEvent.target||F.originalEvent.srcElement);if(B||I==-1){d.each(E,function(J){k(J,-1)});d.each(D,function(J){k(J,-1)});if(A){k(A,0)}k(z,0);if(B){z.focus()}}}function b(z){var A;d.each(this.triggers,function(B){if(B==z||v.contains(B,z)){A=B;return false}});return A}function s(B){var A=v.next(B),z=this.triggers;if(!A){A=z[0]}k(B,-1);if(A){k(A,0);A.focus()}}function q(B){var A=v.prev(B),z=this.triggers;if(!A){A=z[z.length-1]}k(B,-1);if(A){k(A,0);A.focus()}}function a(B){var A=B.keyCode,z=B.target,C;switch(A){case c:case j:C=b.call(this,z);if(C){s.call(this,C);B.halt()}break;case t:case x:C=b.call(this,z);if(C){q.call(this,C);B.halt()}break;case g:case h:C=b.call(this,z);if(C){this.switchTo(d.indexOf(C,this.triggers),undefined,r);B.halt()}break}}function i(z){var A;d.each(this.panels,function(B){if(B==z||v.contains(B,z)){A=B;return false}});return A}function p(B){var A=v.next(B),z=this.panels;if(!A){A=z[0]}k(B,-1);k(A,0);if(w.call(this,A,n)){A.focus()}}function o(B){var A=v.prev(B),z=this.panels;if(!A){A=z[z.length-1]}k(B,-1);k(A,0);if(w.call(this,A,m)){A.focus()}}function w(D,C){var B=d.indexOf(D,this.panels),z=this.config.steps,A=Math.floor(B/z);if(A==this.activeIndex){return 1}if(B%z==0||B%z==z-1){this.switchTo(A,C,r);return 0}return 1}function f(B){var A=B.keyCode,z=B.target,C;switch(A){case c:case j:C=i.call(this,z);if(C){p.call(this,C);B.halt()}break;case t:case x:C=i.call(this,z);if(C){o.call(this,C);B.halt()}break;case g:case h:C=i.call(this,z);if(C){this.fire("itemSelected",{item:C});B.halt()}break}}d.mix(u.Config,{aria:false});u.Plugins.push({name:"aria",init:function(G){if(!G.config.aria){return}var F=G.triggers;var E=G.panels;var D=G.content;var H=G.activeIndex;if(!D.id){D.id=d.guid("ks-switchbale-content")}D.setAttribute("role","listbox");var C=0;d.each(F,function(I){k(I,H==C?"0":"-1");I.setAttribute("role","button");I.setAttribute("aria-controls",D.id);C++});C=0;d.each(E,function(I){k(I,"-1");I.setAttribute("role","option");C++});G.on("switch",e,G);var z=G.nav;if(z){y.on(z,"keydown",a,G)}y.on(D,"keydown",f,G);var B=G.prevBtn,A=G.nextBtn;if(B){k(B,0);B.setAttribute("role","button");y.on(B,"keydown",function(I){if(I.keyCode==g||I.keyCode==h){G.prev(r);I.preventDefault()}})}if(A){k(A,0);A.setAttribute("role","button");y.on(A,"keydown",function(I){if(I.keyCode==g||I.keyCode==h){G.next(r);I.preventDefault()}})}}})},{requires:["dom","event","../aria","./base"]});KISSY.add("switchable/effect",function(f,q,v,r,e,g){var o="display",u="block",i="none",n="opacity",d="z-index",l="position",s="relative",t="absolute",c="scrollx",a="scrolly",b="fade",j="left",m="top",k="float",h="px",p;f.mix(e.Config,{effect:i,duration:0.5,easing:"easeNone",nativeAnim:true});e.Effects={none:function(x,w,y){if(x){q.css(x,o,i)}q.css(w,o,u);y&&y()},fade:function(B,w,C){if(B){if(B.length!==1){f.error("fade effect only supports steps == 1.")}}var y=this,x=y.config,A=B?B[0]:null,z=w[0];if(y.anim){y.anim.stop();q.css(y.anim.fromEl,{zIndex:1,opacity:0});q.css(y.anim.toEl,"zIndex",9)}q.css(z,n,1);if(A){y.anim=new r(A,{opacity:0},x.duration,x.easing,function(){y.anim=g;q.css(z,d,9);q.css(A,d,1);C&&C()},x.nativeAnim).run();y.anim.toEl=z;y.anim.fromEl=A}else{q.css(z,d,9);C&&C()}},scroll:function(z,w,C,x){var D=this,y=D.config,E=y.effect===c,B=D.viewSize[E?0:1]*x,A={};A[E?j:m]=-B+h;if(D.anim){D.anim.stop()}if(z){D.anim=new r(D.content,A,y.duration,y.easing,function(){D.anim=g;C&&C()},y.nativeAnim).run()}else{q.css(D.content,A);C&&C()}}};p=e.Effects;p[c]=p[a]=p.scroll;e.Plugins.push({name:"effect",init:function(D){var x=D.config,G=x.effect,A=D.panels,z=D.content,C=x.steps,E=D.activeIndex,y=A.length;D.viewSize=[x.viewSize[0]||(A&&A[0]&&A[0].offsetWidth*C)||0,x.viewSize[1]||(A&&A[0]&&A[0].offsetHeight*C)||0];if(G!==i){q.css(A,o,u);switch(G){case c:case a:q.css(z,l,t);if(q.css(z.parentNode,l)=="static"){q.css(z.parentNode,l,s)}if(G===c){q.css(A,k,j);q.width(z,D.viewSize[0]*(y/C))}break;case b:var w=E*C,B=w+C-1,F;f.each(A,function(H,I){F=I>=w&&I<=B;q.css(H,{opacity:F?1:0,position:t,zIndex:F?9:1})});break}}}});f.augment(e,{_switchView:function(z,w,x,C,B,D){var E=this,y=E.config,F=y.effect,A=f.isFunction(F)?F:p[F];A.call(E,z,w,function(){E._fireOnSwitch(x,B);D&&D.call(E)},x,C)}});return e},{requires:["dom","event","anim","switchable/base"]});KISSY.add("switchable/circular",function(d,n,o,c){var k="position",q="absolute",p="relative",j="left",l="top",r="",g="px",i="forward",h="backward",b="scrollx",a="scrolly";d.mix(c.Config,{circular:false});function f(z,t,E,w,C){var G=this,x=G.config,y=G.length,F=G.activeIndex,H=x.scrollType===b,s=H?j:l,v=G.viewSize[H?0:1],D=-v*w,A={},u,B=C===h;u=(B&&F===0&&w===y-1)||(C===i&&F===y-1&&w===0);if(u){D=m.call(G,G.panels,w,B,s,v)}A[s]=D+g;if(G.anim){G.anim.stop()}if(z){G.anim=new o(G.content,A,x.duration,x.easing,function(){if(u){e.call(G,G.panels,w,B,s,v)}G.anim=undefined;E&&E()},x.nativeAnim).run()}else{n.css(G.content,A);E&&E()}}function m(A,x,B,s,y){var F=this,z=F.config,C=z.steps,w=F.length,t=B?w-1:0,E=t*C,D=(t+1)*C,u;var v=A.slice(E,D);if(n.css(v,k)!="absolute"){n.css(v,k,p);n.css(v,s,(B?-1:1)*y*w)}return B?y:-y*w}function e(A,x,B,s,y){var F=this,z=F.config,C=z.steps,w=F.length,t=B?w-1:0,E=t*C,D=(t+1)*C,u;var v=A.slice(E,D);if(n.css(v,k)!="absolute"){n.css(v,k,r);n.css(v,s,r)}n.css(F.content,s,B?-y*(w-1):r)}c.Plugins.push({name:"circular",init:function(t){var s=t.config;if(s.circular&&(s.effect===b||s.effect===a)){s.scrollType=s.effect;s.effect=f}}})},{requires:["dom","anim","./base","./effect"]});KISSY.add("switchable/countdown",function(b,i,h,d,j,a){var c="ks-switchable-trigger-",g=c+"mask",e=c+"content",f="style";b.mix(j.Config,{countdown:false,countdownFromStyle:"",countdownToStyle:"width: 0"});j.Plugins.push({name:"countdown",init:function(t){var q=t.config,p,k=q.interval,r=t.triggers,u=[],n=q.countdownFromStyle,s=q.countdownToStyle,o;if(!q.autoplay||!q.hasTriggers||!q.countdown){return}b.each(r,function(v,w){v.innerHTML='<div class="'+g+'"></div><div class="'+e+'">'+v.innerHTML+"</div>";u[w]=v.firstChild});if(q.pauseOnHover){h.on(t.container,"mouseenter",function(){l();var v=u[t.activeIndex];if(n){o=new d(v,n,0.2,"easeOut").run()}else{i.attr(v,f,"")}});h.on(t.container,"mouseleave",function(){l();var v=t.activeIndex;i.attr(u[v],f,n);p=setTimeout(function(){m(v)},200)})}t.on("beforeSwitch",function(){l();if(u[t.activeIndex]){i.attr(u[t.activeIndex],f,n||"")}});t.on("switch",function(v){if(!t.paused){m(v.currentIndex)}});function m(v){l();o=new d(u[v],s,k-1).run()}function l(){if(p){clearTimeout(p);p=null}if(o){o.stop();o=a}}if(t.activeIndex>-1){m(t.activeIndex)}}});return j},{requires:["dom","event","anim","./base"]});KISSY.add("switchable/lazyload",function(f,g,c){var d="beforeSwitch",e="img-src",a="area-data",b={};b[e]="data-ks-lazyload-custom";b[a]="ks-datalazyload-custom";f.mix(c.Config,{lazyDataType:a});c.Plugins.push({name:"lazyload",init:function(m){var l=f.require("datalazyload"),i=m.config,k=i.lazyDataType,h=b[k];if(!l||!k||!h){return}m.on(d,n);function n(p){var o=i.steps,r=p.toIndex*o,q=r+o;l.loadCustomLazyData(m.panels.slice(r,q),k);if(j()){m.detach(d,n)}}function j(){var q,p=k===e,s=p?"img":(k===a?"textarea":"");if(s){q=g.query(s,m.container);for(var r=0,o=q.length;r<o;r++){var t=q[r];if(p?g.attr(t,h):g.hasClass(t,h)){return false}}}return true}}});return c},{requires:["dom","./base"]});KISSY.add("switchable/slide/base",function(b,a){function c(d,f){var e=this;if(!(e instanceof c)){return new c(d,f)}c.superclass.constructor.apply(e,arguments)}c.Config={autoplay:true,circular:true};c.Plugins=[];b.extend(c,a);return c},{requires:["../base"]});KISSY.add("switchable/slide/aria",function(e,l,j,a,c){var b=37;var f=38;var k=39;var h=40;e.mix(c.Config,{aria:false});var i={originalEvent:{target:1}};var g=a.setTabIndex;c.Plugins.push({name:"aria",init:function(n){if(!n.config.aria){return}var q=n.triggers;var o=n.panels;var p=0;var m=n.activeIndex;e.each(q,function(s){g(s,"-1");p++});p=0;e.each(o,function(s){g(s,m==p?"0":"-1");l.attr(s,"role","option");p++});var r=n.content;l.attr(r,"role","listbox");j.on(r,"keydown",d,n);g(o[0],0);n.on("switch",function(v){var s=v.currentIndex,t=!!(v.originalEvent.target||v.originalEvent.srcElement),u=n.completedIndex;if(u>-1){g(o[u],-1)}g(o[s],0);if(t){o[s].focus()}})}});function d(o){var m=this,n=o.keyCode;switch(n){case h:case k:m.next(i);o.halt();break;case f:case b:m.prev(i);o.halt();break}}},{requires:["dom","event","../aria","./base"]});KISSY.add("switchable/tabs/base",function(c,b){function a(d,f){var e=this;if(!(e instanceof a)){return new a(d,f)}a.superclass.constructor.call(e,d,f);return 0}c.extend(a,b);a.Config={};a.Plugins=[];return a},{requires:["../base"]});KISSY.add("switchable/tabs/aria",function(e,q,u,b,h,a){var s=33;var r=34;var o=35;var l=36;var t=37;var m=38;var f=39;var d=40;var n=9;e.mix(a.Config,{aria:true});a.Plugins.push({name:"aria",init:function(x){if(!x.config.aria){return}var A=x.triggers,v=x.activeIndex,y=x.panels;var w=x.container;if(x.nav){q.attr(x.nav,"role","tablist")}var z=0;e.each(A,function(B){B.setAttribute("role","tab");g(B,v==z?"0":"-1");if(!B.id){B.id=e.guid("ks-switchable")}z++});z=0;e.each(y,function(B){var C=A[z];B.setAttribute("role","tabpanel");B.setAttribute("aria-hidden",v==z?"false":"true");B.setAttribute("aria-labelledby",C.id);z++});x.on("switch",i,x);u.on(w,"keydown",j,x);u.on(w,"keypress",p,x)}});var g=h.setTabIndex;function c(w){var x=this.triggers,v;e.each(x,function(y){if(y==w||q.contains(y,w)){v=y}});return v}function p(v){switch(v.keyCode){case s:case r:if(v.ctrlKey&&!v.altKey&&!v.shiftKey){v.halt()}break;case n:if(v.ctrlKey&&!v.altKey){v.halt()}break}}var k=b.getDomEvent;function j(A){var x=A.target,w=this;var y=w.triggers;var z=!A.ctrlKey&&!A.shiftKey&&!A.altKey;var v=A.ctrlKey&&!A.shiftKey&&!A.altKey;switch(A.keyCode){case t:case m:if(c.call(w,x)){w.prev(k(A));A.halt()}break;case f:case d:if(c.call(w,x)){w.next(k(A));A.halt()}break;case r:if(v){A.halt();w.next(k(A))}break;case s:if(v){A.halt();w.prev(k(A))}break;case l:if(z){w.switchTo(0,undefined,k(A));A.halt()}break;case o:if(z){w.switchTo(y.length-1,undefined,k(A));A.halt()}break;case n:if(A.ctrlKey&&!A.altKey){A.halt();if(A.shiftKey){w.prev(k(A))}else{w.next(k(A))}}break}}function i(A){var z=!!(A.originalEvent.target||A.originalEvent.srcElement);var B=this;var y=B.completedIndex;var C=A.currentIndex;if(y==C){return}var x=B.triggers[y];var w=B.triggers[C];var D=B.panels[y];var v=B.panels[C];if(x){g(x,"-1")}g(w,"0");if(z){w.focus()}if(D){D.setAttribute("aria-hidden","true")}v.setAttribute("aria-hidden","false")}},{requires:["dom","event","../base","../aria","./base"]});KISSY.add("switchable",function(d,c,g,b,j,h,n,q,p,r,i,k,o,f,l,a,e){d.Switchable=c;var m={Accordion:b,Carousel:q,Slide:f,Tabs:a};d.mix(d,m);d.mix(c,m);return c},{requires:["switchable/base","switchable/aria","switchable/accordion/base","switchable/accordion/aria","switchable/autoplay","switchable/autorender","switchable/carousel/base","switchable/carousel/aria","switchable/circular","switchable/countdown","switchable/effect","switchable/lazyload","switchable/slide/base","switchable/slide/aria","switchable/tabs/base","switchable/tabs/aria"]});